<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>8ì¼ì°¨ Vue + JavaScript + Jquery í†µí•© ì‘ìš© + filter(return ë¬´ì¡°ê±´) ì´ìš©</title>
        <script src="../jq/jquery.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue"></script>
        <script src="http://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
        <style>
            .board_view {
                width: 400px;
                height: auto;
                border: 1px solid black;
            }
            .board_view > ul {
                width: inherit;
                height: auto;
                margin: 0;
            }
            .board_view > ul > li {
                width: 350px;
                height: 30px;
                position: relative;
                line-height: 30px;
                font-size: 13px;
            }
            .board_view > ul > li > span {
                position: absolute;
                right: 0;
                text-decoration: overline;
            }
            .search {
                width: 200px;
                height: 40px;
            }
            .board_css {
                display: block;
            }
        </style>
    </head>
    <script>
        // JS
        function handle(){
            var board = [
                {subject:"ì¡¸ë ¤ìš”.....",write:"ì¥ë‚¨í˜",upvotes:1},
                {subject:"ë‹¤ìŒì£¼ ê¸ˆìš”ì¼ ì‹œí—˜ã…‹",write:"ê¹€ì€ì§„",upvotes:71},
                {subject:"ì½”ë¡œë‚˜ 1300ëª… ì‹¤í™”?ã…‹",write:"ì •í¬ì¡°",upvotes:31},
                {subject:"ğŸ¢ğŸªë†€ì´ë™ì‚° ê°€ê³ ì‹¶ë‹¹ğŸ ğŸ¡",write:"ì•ˆì°¬ìµ",upvotes:112},
                {subject:"ê·¸ëƒ¥ ì­‰ ìê³  ì‹¶ë‹¤",write:"ì´ì‹œìš°",upvotes:12},
                {subject:"ë„ëŒ€ì²´ ì‰¬ìš´ê²Œ HTML ë¿ã…",write:"ë¯¼ì„œí˜„",upvotes:16},
                {subject:"ë‹¤ìŒì—” ë‚´ ì…€ì¹´ë¡œ ã…ã…",write:"ê¹€ì€ì§„",upvotes:0}
            ]
            return board;
        }

        // JQ
        $(function(){

        })
    </script>
    <body>
        <section id="box">
            {{abc}}
            <select v-model="search" class="search" v-on:change="sh"> <!--v-modelì„ ì•ˆì¼ì„ ê²½ìš° : v-on:change="sh($event.target.value)" ì¨ì„œ í•¨ìˆ˜ë¡œ ë³´ë‚¸ë‹¤-->
                <option value="">ì „ì²´ë³´ê¸°</option>
                <option v-for="wr in free2" v-bind:value="wr.write">{{wr.write}}</option>
            </select>
            <div class="board_view">
                <ul class="board_css">
                    <li v-for="w in arrays" v-if="part==1">{{w.subject}} ğŸ‘({{w.upvotes}})<span>{{w.write}}</span></li>
                    <li v-for="w in sfree" v-if="part==2">{{w.subject}} ğŸ‘({{w.upvotes}})<span>{{w.write}}</span></li>
                </ul>
            </div>
        </section>
    </body>
    <script>
        // Vue
        let vues = new Vue({
            el:"#box",
            data:{
                search:"",
                arrays:"",
                free2:[],
                sfree:[],
                part:1
            },
            methods:{
                sh(){
                    if(this.search != ""){
                        this.part = 2;
                        var bbb = this.search;
                        // bbbë€? filterì—ì„œëŠ” vue ì˜ ê°€ìƒ ë³€ìˆ˜ê°’ì„ ì¸ì‹í•˜ì§€ ì•ŠìŒ.
                        this.sfree = this.arrays.filter(function(a,b,c){
                            return a.write == bbb;
                            /*
                            * filter *
                            1) ìê¸°ê°€ ì•Œì•„ì„œ ê²€í†  í›„ ê°’ì„ ë¦¬í„´í•´ì„œ ë³´ë‚´ì¤Œ 
                            2) dataì— ìˆëŠ” ê°€ìƒ ë³€ìˆ˜ê°€ ì•„ë‹Œ ì‹¤ì œ ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì°ìœ¼ë©´ ì¶œë ¥ ê°€ëŠ¥í•˜ë‹¤.
                            3) filterëŠ” ë¬´ì¡°ê±´ returnì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
                            a : ê°ê°ì˜ ë°°ì—´ ê·¸ë£¹ì„ ì¶œë ¥
                            b : ë°°ì—´ ê·¸ë£¹ì˜ ë…¸ë“œê°’ì„ ì¶œë ¥
                            c : ì „ì²´ ë°°ì—´ì„ ì¶œë ¥í•¨
                            */
                            // console.log(a.write)
                        });
                    }
                    else{
                        this.part = 1;
                    }
                },

                all_list(jdata){
                    this.free2 = _.uniqBy(jdata,"write");
                }
            },
            components:{

            },
            computed:{
                abc(){
                    this.arrays = handle();
                    this.all_list(this.arrays);
                }
            }
        });
    </script>
</html>